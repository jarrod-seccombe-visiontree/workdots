# ~/.tmuxinator/eflex.yml

name: eflex
root: ~/src/eflex/

# Optional tmux socket
# socket_name: foo

# Runs before everything. Use it to start daemons etc.
pre:
  - redis-server /usr/local/etc/redis.conf
  - sudo proftpd

windows:
  - editor:
      layout: 36cf,364x90,0,0[364x75,0,0,0,364x14,0,76{182x14,0,76,7,181x14,183,76,15}]
      panes:
        - vim
        -
        -
  - webApp:
      layout: main-horizontal
      panes:
        - coffee
        - cd webApp && ./run.sh
  - api:
      layout: main-horizontal
      panes:
        - csharp
        - mono --runtime=v4.0 webApi/lib/NuGet.exe restore webApi/Eflex.sln && cd webApi && xbuild && xsp4
  - mongo:
      layout: main-horizontal
      panes:
        - mongo eflex
        - tail -f /usr/local/var/log/mongodb/mongo.log
  - trigger:
      layout: main-horizontal
      panes:
          - make trigger && cd webApp/public && mkdir -p imagefiles && chmod a+w imagefiles && eVisionTrigger -c localhost -p imagefiles
          -
  - shell:
      layout: main-horizontal
      panes:
        -
        -
